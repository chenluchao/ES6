<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title></title>
		
		<style>
			body{
				margin: 0;
			}
			
			.item{
				width: 10%;
				height: 30px;
				float: left;
				border: 1px solid black;
				box-sizing: border-box;
				text-align: center;
				line-height: 30px;
				font-size: 16px;
			}
			.end{
				background-color: red;
			}
		</style>
	</head>
	<body>
		
		<div class="box">
			
		</div>
		
		<script type="text/javascript">
			
			var life = [
				
			]
			var age = 0
			var maxAge = 0
			if(localStorage.life == undefined){
				age = 18
				maxAge = 80
				for(var i=1; i<=maxAge; i++){
					var dict = {
						year:i,
						isEnd:i<=age
					}
					life.push(dict)
				}
			}else{
				var lifeJSON = localStorage.life
				//console.log(lifeJSON)
				life = JSON.parse(lifeJSON)
				//console.log(life)
			}
			
			var box = document.querySelector(".box")
			
			function show(){
				box.innerHTML = ""
				
				var html = ""
				for(var index in life){
					var item = life[index]
					
					var num = parseInt(index) + 1
					if(!item.isEnd){
						html+= "<div onclick='dealClick("+index+")' class='item'>"
					}else{
						html+= "<div onclick='dealClick("+index+")' class='item end'>"
					}
					html+=item.year
					html+="</div>"
					
					box.innerHTML = html
				}
			}
			show()
			
			function dealClick (index) {
				var item = life[index]
				item.isEnd = !item.isEnd 
				console.log(life)
				
				show()
				
				localStorage.life = JSON.stringify(life)
			}
			
		</script>
		
		
		
	</body>
</html>