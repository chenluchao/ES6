<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title></title>
	</head>
	<body>

		<script type="text/javascript">
			var dog = {
				"type": "hasky",
				"age": 6,
				"sex": "boy"
			}

			// 			dog.age += 1
			// 			console.log("age = "+dog.age)
			// 			
			// 			dog.age += 1
			// 			console.log("age = "+dog.age)
			// 			
			// 			dog.age += 1
			// 			console.log("age = "+dog.age)

			//get自动执行, 获取值的时候自动执行
			let proxyDog = new Proxy(dog, {
				get(target, key, receiver) {
					console.log("get")
					return target[key]
					//return 1
				},
				set(target, key, value, receiver) {
					//console.log("set")
					if (value > 0) {
						target[key] = value
					}
				}
			})

			var age = proxyDog.age
			console.log("age = " + age)

			proxyDog.age = 10
			console.log("age = " + proxyDog.age)

			proxyDog.age = -10
			console.log("age = " + proxyDog.age)
		</script>


	</body>
</html>
